import{_ as P,P as y,a as b}from"./pdf.worker-DEE9xRSj.js";import{d as f,r as d,o as B,v as S,f as c,g as _,k as R,h as V,F as g,n as C,l as T,p as F}from"./index-DG13FsbX.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"interviewVideo_main",id:"videoContainer"},N=["id"],E={name:"PdfAllViewer"},I=f({...E,setup(u){let l=null,r=d(0),m=d("https://raw.githubusercontent.com/lionsom/imagesRepo/xishanlin/genealogy/莆田林氏西山本支族谱(卷一).pdf"),k=d(1.3);B(()=>{h(m.value)});const h=async t=>{P.workerSrc=JSON.stringify(y),b(t).promise.then(e=>{console.log(e),l=e,r.value=e.numPages,S(()=>{p(1)})})},p=t=>{l.getPage(t).then(a=>{const e="pdf-canvas-"+t,s=document.getElementById(e),o=s.getContext("2d"),x=window.devicePixelRatio||1,v=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1,i=x/v,n=a.getViewport({scale:k.value});s.width=n.width*i,s.height=n.height*i,s.style.width=n.width+"px",s.style.height=n.height+"px",s.style.backgroundColor="red",o.setTransform(i,0,0,i,0,0);const w={canvasContext:o,viewport:n};a.render(w),t<r.value&&p(t+1)})};return(t,a)=>(c(),_(g,null,[a[0]||(a[0]=R(" 我是全卷 ")),V("div",D,[(c(!0),_(g,null,C(T(r),e=>(c(),_("canvas",{class:"pdf-canvas",id:"pdf-canvas-"+e,key:e,style:{display:"block"}},null,8,N))),128))])],64))}}),O=A(I,[["__scopeId","data-v-6564741c"]]),W={name:"PDFAllView"},J=f({...W,setup(u){return(l,r)=>(c(),F(O))}});export{J as default};
